<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Profil Mas Sendi - Sarjana Teknik Informatika</title>
    <meta name="description" content="Profil Mas Sendi, seorang Sarjana Teknik Informatika yang tinggal di Bekasi, Indonesia. Pekerja keras, jujur, dan selalu ingin belajar keterampilan baru.">
    <link rel="stylesheet" href="styles.css"> <!-- Link to your CSS file -->
    <script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
</head>
<body>
    <div class="profile-container">
        <!-- Cover Photo Section -->
        <div class="cover-photo" style="background-image: url('src/sampul.jpg');" role="img" aria-label="Cover photo of Mas Sendi"></div>
        
        <!-- Profile Information Section -->
        <div class="profile-info">
            <img src="src/sendi.jpg" alt="Profile picture of Mas Sendi, Sarjana Teknik Informatika" class="profile-pic">
            <h1 class="name">Mas Sendi <img src="src/h2.png" alt="Verified Checkmark" class="checkmark"></h1>
            <div class="button-container">
                <button class="button" aria-label="Ikuti Mas Sendi" onclick="followUser ()">
                    <i class="fas fa-user-plus"></i> Ikuti
                </button>
                <button class="button" aria-label="Kirim Pesan ke Mas Sendi" onclick="window.location.href='chat.html'">
                    <i class="fas fa-paper-plane"></i> Kirim Pesan
                </button>
            </div>
            <p class="education"><i class="fas fa-graduation-cap"></i> Pendidikan: Sarjana Teknik Informatika</p>
            <p class="location"><i class="fas fa-map-marker-alt"></i> Tempat Tinggal: Bekasi, Indonesia</p>
            <p class="contact"><i class="fas fa-envelope"></i> Kontak: <a href="mailto:sendiadiningtiasp@gmail.com">sendiadiningtiasp@gmail.com</a></p>
            <p class="description">Saya orang yang pekerja keras dan jujur. Saya pandai mengatur waktu, selalu ingin belajar keterampilan baru. Saya ramah, suka menolong, dan sopan, memiliki selera humor yang baik. Saya mampu bekerja secara mandiri di lingkungan yang sibuk dan juga dalam lingkungan tim.</p>
        </div>

        <!-- Posting Section -->
        <div class="posting-container">
            <div class="posting">
                <img src="src/A20.jpg" alt="Posting 1" class="posting-pic">
                <div class="posting-content">
                    <p class="posting-text">Saya sangat senang dapat berbagi ilmu dengan teman-teman! #SharingIsCaring</p>
                    <div class="posting-actions">
                        <button class="like-button" aria-label="Like this posting">
                            <i class="fas fa-thumbs-up"></i> 12 Likes
                        </button>
                        <button class="comment-button" aria-label="Comment on this posting">
                            <i class="fas fa-comment"></i> 5 Comments
                        </button>
                    </div>
                </div>
            </div>
            <div class="posting">
                <img src="src/A10.jpg" alt="Posting 2" class="posting-pic">
                <div class="posting-content">
                    <p class="posting-text">Saya sedang belajar membuat aplikasi mobile dengan React Native! #LearningIsFun</p>
                    <div class="posting-actions">
                        <button class="like-button" aria-label="Like this posting">
                            <i class="fas fa-thumbs-up"></i> 8 Likes
                        </button>
                        <button class="comment-button" aria-label="Comment on this posting">
                            <i class="fas fa-comment"></i> 3 Comments
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Footer Section -->
        <footer>
            <div class="footer-content">
                <p>&copy; 2024 Sendi. Semua hak dilindungi.</p>
                <div class="social-media">
                    <a href="https://www.facebook.com/sendi.adt.7" target="_blank"
                    <a href="https://www.instagram.com/sendi.adt/" target="_blank" rel="noopener noreferrer" aria-label="Instagram Mas Sendi"><i class="fab fa-instagram"></i></a>
                    <a href="https://www.linkedin.com/in/sendi-adt/" target="_blank" rel="noopener noreferrer" aria-label="LinkedIn Mas Sendi"><i class="fab fa-linkedin"></i></a>
                </div>
            </div>
        </footer>
    </div>

    <script>
        const username = "MasSendi"; // Ganti dengan username Anda

        // Mengambil jumlah pengikut dari server saat halaman dimuat
        document.addEventListener('DOMContentLoaded', function() {
            fetch(`http://localhost:5000/followers/${username}`)
                .then(response => response.json())
                .then(data => {
                    document.getElementById('follower-number').innerText = data.count; // Memperbarui jumlah pengikut
                })
                .catch(error => console.error('Error fetching followers count:', error));
        });

        // Fungsi untuk mengikuti
        function followUser () {
            fetch('http://localhost:5000/follow', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({ username: username })
            })
            .then(response => response.json())
            .then(data => {
                // Memperbarui jumlah pengikut setelah mengikuti
                document.getElementById('follower-number').innerText = data.followerCount; 
                alert('Anda sekarang mengikuti Mas Sendi!'); // Pesan konfirmasi
            })
            .catch(error => console.error('Error following user:', error));
        }
    </script>
</body>
</html>
